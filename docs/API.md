<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [mapkey][1]
    *   [Parameters][2]
    *   [Examples][3]
*   [vmapkey][4]
    *   [Parameters][5]
*   [imapkey][6]
    *   [Parameters][7]
*   [map][8]
    *   [Parameters][9]
    *   [Examples][10]
*   [unmap][11]
    *   [Parameters][12]
    *   [Examples][13]
*   [unmapAllExcept][14]
    *   [Parameters][15]
    *   [Examples][16]
*   [imap][17]
    *   [Parameters][18]
*   [iunmap][19]
    *   [Parameters][20]
*   [cmap][21]
    *   [Parameters][22]
*   [vmap][23]
    *   [Parameters][24]
*   [vunmap][25]
    *   [Parameters][26]
*   [aceVimMap][27]
    *   [Parameters][28]
    *   [Examples][29]
*   [addVimMapKey][30]
    *   [Parameters][31]
    *   [Examples][32]
*   [addSearchAlias][33]
    *   [Parameters][34]
    *   [Examples][35]
*   [removeSearchAlias][36]
    *   [Parameters][37]
    *   [Examples][38]
*   [searchSelectedWith][39]
    *   [Parameters][40]
    *   [Examples][41]
*   [Clipboard.read][42]
    *   [Parameters][43]
    *   [Examples][44]
*   [Clipboard.write][45]
    *   [Parameters][46]
    *   [Examples][47]
*   [Hints.setNumeric][48]
    *   [Examples][49]
*   [Hints.setCharacters][50]
    *   [Parameters][51]
    *   [Examples][52]
*   [Hints.click][53]
    *   [Parameters][54]
    *   [Examples][55]
*   [Hints.create][56]
    *   [Parameters][57]
    *   [Examples][58]
*   [Hints.dispatchMouseClick][59]
    *   [Parameters][60]
    *   [Examples][61]
*   [Hints.style][62]
    *   [Parameters][63]
    *   [Examples][64]
*   [Normal.passThrough][65]
    *   [Parameters][66]
*   [Normal.scroll][67]
    *   [Parameters][68]
*   [Normal.feedkeys][69]
    *   [Parameters][70]
*   [Normal.jumpVIMark][71]
    *   [Parameters][72]
*   [Visual.style][73]
    *   [Parameters][74]
    *   [Examples][75]
*   [Front.showEditor][76]
    *   [Parameters][77]
    *   [Examples][78]
*   [Front.openOmnibar][79]
    *   [Parameters][80]
    *   [Examples][81]
*   [Front.registerInlineQuery][82]
    *   [Parameters][83]
*   [getBrowserName][84]
*   [Front.showBanner][85]
    *   [Parameters][86]
    *   [Examples][87]
*   [Front.showPopup][88]
    *   [Parameters][89]
    *   [Examples][90]
*   [getClickableElements][91]
    *   [Parameters][92]
    *   [Examples][93]
*   [tabOpenLink][94]
    *   [Parameters][95]
    *   [Examples][96]
*   [insertJS][97]
    *   [Parameters][98]
*   [RUNTIME][99]
    *   [Parameters][100]
    *   [Examples][101]

## mapkey

Create a shortcut in normal mode to execute your own action.

### Parameters

*   `keys` **[string][102]** the key sequence for the shortcut.
*   `annotation` **[string][102]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][103]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][104]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

### Examples

```javascript
mapkey("<Space>", "pause/resume on youtube", function() {
    var btn = document.querySelector("button.ytp-ad-overlay-close-button") || document.querySelector("button.ytp-ad-skip-button") || document.querySelector('ytd-watch-flexy button.ytp-play-button');
    btn.click();
}, {domain: /youtube.com/i});
```

## vmapkey

*   **See**: mapkey

Create a shortcut in visual mode to execute your own action.

### Parameters

*   `keys` **[string][102]** the key sequence for the shortcut.
*   `annotation` **[string][102]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][103]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][104]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

## imapkey

*   **See**: mapkey

Create a shortcut in insert mode to execute your own action.

### Parameters

*   `keys` **[string][102]** the key sequence for the shortcut.
*   `annotation` **[string][102]** a help message to describe the action, which will displayed in help opened by `?`.
*   `jscode` **[function][103]** a Javascript function to be bound. If the function needs an argument, next pressed key will be fed to the function.
*   `options` **[object][104]** `domain`: regex, a Javascript regex pattern to identify the domains that this mapping works, for example, `/github\.com/i` says that this mapping works only for github.com, `repeatIgnore`: boolean, whether this action can be repeated by dot command. (optional, default `null`)

## map

Map a key sequence to another in normal mode.

### Parameters

*   `new_keystroke` **[string][102]** a key sequence to replace
*   `old_keystroke` **[string][102]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][102]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

### Examples

```javascript
map(';d', '<Ctrl-Alt-d>');
```

## unmap

Unmap a key sequence in normal mode.

### Parameters

*   `keystroke` **[string][102]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

### Examples

```javascript
unmap("<<", /youtube.com/);
```

## unmapAllExcept

Unmap all keybindings except those specified.

### Parameters

*   `keystrokes` **[array][105]** the keybindings you want to keep.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

### Examples

```javascript
unmapAllExcept(['E','R','T'], /google.com|twitter.com/);
```

## imap

*   **See**: map

Map a key sequence to another in insert mode.

### Parameters

*   `new_keystroke` **[string][102]** a key sequence to replace
*   `old_keystroke` **[string][102]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][102]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## iunmap

*   **See**: unmap

Unmap a key sequence in insert mode.

### Parameters

*   `keystroke` **[string][102]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

## cmap

*   **See**: map

Map a key sequence to another in omnibar.

### Parameters

*   `new_keystroke` **[string][102]** a key sequence to replace
*   `old_keystroke` **[string][102]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][102]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## vmap

*   **See**: map

Map a key sequence to another in visual mode.

### Parameters

*   `new_keystroke` **[string][102]** a key sequence to replace
*   `old_keystroke` **[string][102]** a key sequence to be replaced
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping works. (optional, default `null`)
*   `new_annotation` **[string][102]** use it instead of the annotation from old_keystroke if provided. (optional, default `null`)

## vunmap

*   **See**: unmap

Unmap a key sequence in visual mode.

### Parameters

*   `keystroke` **[string][102]** a key sequence to be removed.
*   `domain` **regex** a Javascript regex pattern to identify the domains that this mapping will be removed. (optional, default `null`)

## aceVimMap

Map the key sequence `lhs` to `rhs` for mode `ctx` in ACE editor.

### Parameters

*   `lhs` **[string][102]** a key sequence to replace
*   `rhs` **[string][102]** a key sequence to be replaced
*   `ctx` **[string][102]** a mode such as `insert`, `normal`.

### Examples

```javascript
aceVimMap('J', ':bn', 'normal');
```

## addVimMapKey

Add map key in ACE editor.

### Parameters

*   `objects` **[object][104]** multiple objects to define key map in ACE, see more from [ace/keyboard/vim.js][106]

### Examples

```javascript
addVimMapKey(
    {
        keys: 'n',
        type: 'motion',
        motion: 'moveByCharacters',
        motionArgs: {
            forward: false
        }
    },

    {
        keys: 'e',
        type: 'motion',
        motion: 'moveByLines',
        motionArgs: {
            forward: true,
            linewise: true
        }
    }
);
```

## addSearchAlias

Add a search engine alias into Omnibar.

### Parameters

*   `alias` **[string][102]** the key to trigger this search engine, one or several chars, used as search alias, when you input the string and press `space` in omnibar, the search engine will be triggered.
*   `prompt` **[string][102]** a caption to be placed in front of the omnibar.
*   `search_url` **[string][102]** the URL of the search engine
*   `search_leader_key` **[string][102]** `<search_leader_key><alias>` in normal mode will search selected text with this search engine directly without opening the omnibar, for example `sd`. (optional, default `s`)
*   `suggestion_url` **[string][102]** the URL to fetch suggestions in omnibar when this search engine is triggered. (optional, default `null`)
*   `callback_to_parse_suggestion` **[function][103]** a function to parse response from `suggestion_url` and return a list of strings as suggestions. (optional, default `null`)
*   `only_this_site_key` **[string][102]** `<search_leader_key><only_this_site_key><alias>` in normal mode will search selected text within current site with this search engine directly without opening the omnibar, for example `sod`. (optional, default `o`)
*   `options` **[object][104]** `favicon_url` URL for favicon for this search engine (optional, default `null`)

### Examples

```javascript
addSearchAlias('d', 'duckduckgo', 'https://duckduckgo.com/?q=', 's', 'https://duckduckgo.com/ac/?q=', function(response) {
    var res = JSON.parse(response.text);
    return res.map(function(r){
        return r.phrase;
    });
});
```

## removeSearchAlias

Remove a search engine alias from Omnibar.

### Parameters

*   `alias` **[string][102]** the alias of the search engine to be removed.
*   `search_leader_key` **[string][102]** `<search_leader_key><alias>` in normal mode will search selected text with this search engine directly without opening the omnibar, for example `sd`. (optional, default `s`)
*   `only_this_site_key` **[string][102]** `<search_leader_key><only_this_site_key><alias>` in normal mode will search selected text within current site with this search engine directly without opening the omnibar, for example `sod`. (optional, default `o`)

### Examples

```javascript
removeSearchAlias('d');
```

## searchSelectedWith

Search selected with.

### Parameters

*   `se` **[string][102]** a search engine's search URL
*   `onlyThisSite` **[boolean][107]** whether to search only within current site, need support from the provided search engine. (optional, default `false`)
*   `interactive` **[boolean][107]** whether to search in interactive mode, in case that you need some small modification on the selected content. (optional, default `false`)
*   `alias` **[string][102]** only used with interactive mode, in such case the url from `se` is ignored, SurfingKeys will construct search URL from the alias registered by `addSearchAlias`. (optional, default `""`)

### Examples

```javascript
searchSelectedWith('https://translate.google.com/?hl=en#auto/en/');
```

## Clipboard.read

Read from clipboard.

### Parameters

*   `onReady` **[function][103]** a callback function to handle text read from clipboard.

### Examples

```javascript
Clipboard.read(function(response) {
  console.log(response.data);
});
```

## Clipboard.write

Write text to clipboard.

### Parameters

*   `text` **[string][102]** the text to be written to clipboard.

### Examples

```javascript
Clipboard.write(window.location.href);
```

## Hints.setNumeric

Use digits as hint label, with it set you could type text to filter links, this API is to replace original setting like `Hints.numericHints = true;`.

### Examples

```javascript
Hints.setNumeric();
```

## Hints.setCharacters

Set characters for generating hints, this API is to replace original setting like `Hints.characters = "asdgqwertzxcvb";`.

### Parameters

*   `characters` **[string][102]** the characters for generating hints.

### Examples

```javascript
Hints.setCharacters("asdgqwertzxcvb");
```

## Hints.click

Click element or create hints for elements to click.

### Parameters

*   `links`  `string or array of HTMLElement`, click on it if there is only one in the array or `force` parameter is true, otherwise hints will be generated for them. If `links` is a string, it will be used as css selector for `getClickableElements`.
*   `force` **[boolean][107]** force to click the first input element whether there are more than one elements in `links` or not. (optional, default `false`)

### Examples

```javascript
mapkey('zz', 'Hide replies', function() {
    Hints.click(document.querySelectorAll("#less-replies:not([hidden])"), true);
});
```

## Hints.create

*   **See**: Hints.dispatchMouseClick

Create hints for elements to click.

### Parameters

*   `cssSelector`  `string or array of HTMLElement`, if `links` is a string, it will be used as css selector.
*   `onHintKey` **[function][103]** a callback function on hint keys pressed.
*   `attrs` **[object][104]** `active`: whether to activate the new tab when a link is opened, `tabbed`: whether to open a link in a new tab, `multipleHits`: whether to stay in hints mode after one hint is triggered. (optional, default `null`)

### Examples

```javascript
mapkey('yA', '#7Copy a link URL to the clipboard', function() {
    Hints.create('*[href]', function(element) {
        Clipboard.write('[' + element.innerText + '](' + element.href + ')');
    });
});
```

Returns **[boolean][107]** whether any hint is created for target elements.

## Hints.dispatchMouseClick

*   **See**: Hints.create

The default `onHintKey` implementation.

### Parameters

*   `element` **[HTMLElement][108]** the element for which the pressed hint is targeted.

### Examples

```javascript
mapkey('q', 'click on images', function() {
    Hints.create("div.media_box img", Hints.dispatchMouseClick);
}, {domain: /weibo.com/i});
```

## Hints.style

Set styles for hints.

### Parameters

*   `css` **[string][102]** styles for hints.
*   `mode` **[string][102]** sub mode for hints, use `text` for hints mode to enter visual mode. (optional, default `null`)

### Examples

```javascript
Hints.style('border: solid 3px #552a48; color:#efe1eb; background: none; background-color: #552a48;');
Hints.style("div{border: solid 3px #707070; color:#efe1eb; background: none; background-color: #707070;} div.begin{color:red;}", "text");
```

## Normal.passThrough

Enter PassThrough mode.

### Parameters

*   `timeout` **[number][109]?** how many seconds to linger in PassThrough mode, to ignore it will stay in PassThrough mode until an Escape key is pressed.

## Normal.scroll

Scroll within current target.

### Parameters

*   `type` **[string][102]** down | up | pageDown | fullPageDown | pageUp | fullPageUp | top | bottom | left | right | leftmost | rightmost | byRatio

## Normal.feedkeys

Feed keys into Normal mode.

### Parameters

*   `keys` **[string][102]** the keys to be fed into Normal mode.

## Normal.jumpVIMark

Jump to a vim-like mark.

### Parameters

*   `mark` **[string][102]** a vim-like mark.

## Visual.style

Set styles for visual mode.

### Parameters

*   `element` **[string][102]** element in visual mode, which can be `marks` and `cursor`.
*   `style` **[string][102]** css style

### Examples

```javascript
Visual.style('marks', 'background-color: #89a1e2;');
Visual.style('cursor', 'background-color: #9065b7;');
```

## Front.showEditor

Launch the vim editor.

### Parameters

*   `element` **[HTMLElement][108]** the target element which the vim editor is launched for, this parameter can also be a string, which will be used as default content in vim editor.
*   `onWrite` **[function][103]** a callback function to be executed on written back from vim editor.
*   `type` **[string][102]** the type for the vim editor, which can be `url`, if not provided, it will be tag name of the target element. (optional, default `null`)
*   `useNeovim` **[boolean][107]** the vim editor will be the embeded JS implementation, if `useNeovim` is true, neovim will be used through natvie messaging. (optional, default `false`)

### Examples

```javascript
mapkey(';U', '#4Edit current URL with vim editor, and reload', function() {
    Front.showEditor(window.location.href, function(data) {
        window.location.href = data;
    }, 'url');
});
```

## Front.openOmnibar

Open the omnibar.

### Parameters

*   `args` **[object][104]** `type` the sub type for the omnibar, which can be `Bookmarks`, `AddBookmark`, `History`, `URLs`, `RecentlyClosed`, `TabURLs`, `Tabs`, `Windows`, `VIMarks`, `SearchEngine`, `Commands`, `OmniQuery` and `UserURLs`.

### Examples

```javascript
mapkey('ou', '#8Open AWS services', function() {
    var services = Array.from(top.document.querySelectorAll('#awsc-services-container li[data-service-href]')).map(function(li) {
        return {
            title: li.querySelector("span.service-label").textContent,
            url: li.getAttribute('data-service-href')
        };
    });
    if (services.length === 0) {
        services = Array.from(top.document.querySelectorAll('div[data-testid="awsc-nav-service-list"] li[data-testid]>a')).map(function(a) {
            return {
                title: a.innerText,
                url: a.href
            };
        });
    }
    Front.openOmnibar({type: "UserURLs", extra: services});
}, {domain: /console.amazonaws|console.aws.amazon.com/i});
```

## Front.registerInlineQuery

*   **See**: [example][110].

Register an inline query.

### Parameters

*   `args` **[object][104]** `url`: string or function, the dictionary service url or a function to return the dictionary service url, `parseResult`: function, a function to parse result from dictionary service and return a HTML string to render explanation, `headers`: object\[optional], in case your dictionary service needs authentication.

## getBrowserName

Get current browser name

Returns **[string][102]** "Chrome" | "Firefox" | "Safari"

## Front.showBanner

Show message in banner.

### Parameters

*   `msg` **[string][102]** the message to be displayed in banner.
*   `timeout` **[number][109]** milliseconds after which the banner will disappear. (optional, default `1600`)

### Examples

```javascript
Front.showBanner(window.location.href);
```

## Front.showPopup

Show message in popup.

### Parameters

*   `msg` **[string][102]** the message to be displayed in popup.

### Examples

```javascript
Front.showPopup(window.location.href);
```

## getClickableElements

Get all clickable elements. SurfingKeys has its own logic to identify clickable elements, such as a `HTMLAnchorElement` or elements with cursor as pointer. This function provides two parameters to identify those clickable elements that SurfingKeys failed to identify.

### Parameters

*   `selectorString` **[string][102]** extra css selector of those clickable elements.
*   `pattern` **regex** a regular expression that matches text of the clickable elements.

### Examples

```javascript
var elms = getClickableElements("[rel=link]", /click this/);
```

Returns **[array][105]** array of clickable elements.

## tabOpenLink

Open links in new tabs.

### Parameters

*   `str` **[string][102]** links to be opened, the links should be split by `\n` if there are more than one.
*   `simultaneousness` **[number][109]** how many tabs will be opened simultaneously, the rest will be queued and opened later whenever a tab is closed. (optional, default `5`)

### Examples

```javascript
mapkey("<Space>", "pause/resume on youtube", function() {
    var btn = document.querySelector("button.ytp-ad-overlay-close-button") || document.querySelector("button.ytp-ad-skip-button") || document.querySelector('ytd-watch-flexy button.ytp-play-button');
    btn.click();
}, {domain: /youtube.com/i});
```

## insertJS

Insert javascript code into main world context.

### Parameters

*   `code` **([function][103] | [string][102])** a javascript function to be executed in main world context, or an URL of js file.
*   `onload` **[function][103]** a callback function after requested code executed.

## RUNTIME

Call background `action` with `args`, the `callback` will be executed with response from background.

### Parameters

*   `action` **[string][102]** a background action to be called.
*   `args` **[object][104]** the parameters to be passed to the background action.
*   `callback` **[function][103]** a function to be executed with the result from the background action.

### Examples

```javascript
RUNTIME('getTabs', {queryInfo: {currentWindow: true}}, response => {
  console.log(response);
});
```

[1]: #mapkey

[2]: #parameters

[3]: #examples

[4]: #vmapkey

[5]: #parameters-1

[6]: #imapkey

[7]: #parameters-2

[8]: #map

[9]: #parameters-3

[10]: #examples-1

[11]: #unmap

[12]: #parameters-4

[13]: #examples-2

[14]: #unmapallexcept

[15]: #parameters-5

[16]: #examples-3

[17]: #imap

[18]: #parameters-6

[19]: #iunmap

[20]: #parameters-7

[21]: #cmap

[22]: #parameters-8

[23]: #vmap

[24]: #parameters-9

[25]: #vunmap

[26]: #parameters-10

[27]: #acevimmap

[28]: #parameters-11

[29]: #examples-4

[30]: #addvimmapkey

[31]: #parameters-12

[32]: #examples-5

[33]: #addsearchalias

[34]: #parameters-13

[35]: #examples-6

[36]: #removesearchalias

[37]: #parameters-14

[38]: #examples-7

[39]: #searchselectedwith

[40]: #parameters-15

[41]: #examples-8

[42]: #clipboardread

[43]: #parameters-16

[44]: #examples-9

[45]: #clipboardwrite

[46]: #parameters-17

[47]: #examples-10

[48]: #hintssetnumeric

[49]: #examples-11

[50]: #hintssetcharacters

[51]: #parameters-18

[52]: #examples-12

[53]: #hintsclick

[54]: #parameters-19

[55]: #examples-13

[56]: #hintscreate

[57]: #parameters-20

[58]: #examples-14

[59]: #hintsdispatchmouseclick

[60]: #parameters-21

[61]: #examples-15

[62]: #hintsstyle

[63]: #parameters-22

[64]: #examples-16

[65]: #normalpassthrough

[66]: #parameters-23

[67]: #normalscroll

[68]: #parameters-24

[69]: #normalfeedkeys

[70]: #parameters-25

[71]: #normaljumpvimark

[72]: #parameters-26

[73]: #visualstyle

[74]: #parameters-27

[75]: #examples-17

[76]: #frontshoweditor

[77]: #parameters-28

[78]: #examples-18

[79]: #frontopenomnibar

[80]: #parameters-29

[81]: #examples-19

[82]: #frontregisterinlinequery

[83]: #parameters-30

[84]: #getbrowsername

[85]: #frontshowbanner

[86]: #parameters-31

[87]: #examples-20

[88]: #frontshowpopup

[89]: #parameters-32

[90]: #examples-21

[91]: #getclickableelements

[92]: #parameters-33

[93]: #examples-22

[94]: #tabopenlink

[95]: #parameters-34

[96]: #examples-23

[97]: #insertjs

[98]: #parameters-35

[99]: #runtime

[100]: #parameters-36

[101]: #examples-24

[102]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[103]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[104]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[105]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[106]: https://github.com/ajaxorg/ace/blob/ec450c03b51aba3724cf90bb133708078d1f3de6/lib/ace/keyboard/vim.js#L927-L1099

[107]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[108]: https://developer.mozilla.org/docs/Web/HTML/Element

[109]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[110]: https://github.com/brookhong/Surfingkeys/wiki/Register-inline-query
